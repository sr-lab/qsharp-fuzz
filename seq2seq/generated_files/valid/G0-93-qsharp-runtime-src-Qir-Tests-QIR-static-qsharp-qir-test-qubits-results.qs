 namespace Microsoft.Quantum.Testing.QIR { open Microsoft.Quantum.Intrinsic; @EntryPoint() operation TestQubitResultManagement() : Unit { use qs = Qubit[2] { X(qs[1]); use q = Qubit() { if (M(qs[1]) == One) { X(q); } if (M(qs[0]) == M(q)) { fail("Unexpected measurement result"); } } } } }