 namespace Microsoft.Quantum.Samples { open Microsoft.Quantum.Canon; open Microsoft.Quantum.Diagnostics; open Microsoft.Quantum.Intrinsic; open Microsoft.Quantum.Measurement; operation ApplyMajority(a : Qubit, b : Qubit, c : Qubit, f : Qubit) : Unit { AssertQubit(Zero, f); within { CNOT(b, a); CNOT(b, c); } apply { ApplyAnd(a, c, f); CNOT(b, f); } } @EntryPoint() operation RunMajority(a : Bool, b : Bool, c : Bool) : Bool { using ((qa, qb, qc, f) = (Qubit(), Qubit(), Qubit(), Qubit())) { within { ApplyPauliFromBitString(PauliX, true, [a, b, c], [qa, qb, qc]); } apply { ApplyMajority(qa, qb, qc, f); } return IsResultOne(MResetZ(f)); } } } 